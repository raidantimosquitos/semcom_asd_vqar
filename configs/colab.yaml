# Colab / IDE Colab kernel: longer epochs, paths relative to project root.
# When using IDE with Colab kernel, project root is the working dir; no clone needed.
# The notebook overrides data.root_dir, checkpoints.dir, and log_dir from its config cell.
#
# Checkpoint layout: checkpoints/{models,stats}/

mode: train

checkpoints:
  dir: "./checkpoints"

data:
  root_dir: "/content/drive/MyDrive/datasets/dcase2020-task2-dev-dataset"  # overridden by notebook
  appliance: fan
  test_size: 0.1
  batch_size: 32
  random_state: 42
  max_samples_stats: null

device: cuda

phase1:
  num_epochs: 50
  lr: 0.002
  checkpoint: "./checkpoints/models/mobilenetv2_8x_vqvae.pth"

phase2:
  num_epochs: 80
  lr: 0.0002
  checkpoint: "./checkpoints/models/pixelsnail_prior.pth"

eval:
  vqvae_checkpoint: "./checkpoints/models/mobilenetv2_8x_vqvae.pth"
  prior_checkpoint: "./checkpoints/models/pixelsnail_prior.pth"

logging:
  log_dir: "./logs"
  name: "main"
